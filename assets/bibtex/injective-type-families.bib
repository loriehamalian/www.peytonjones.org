@inproceedings{stolarek2015injective,
author = {Stolarek, Jan and Eisenberg, Richard and Peyton Jones, Simon},
title = {Injective type families for Haskell},
booktitle = {ACM Haskell Symposium 2015},
year = {2015},
month = {August},
abstract = {Haskell, as implemented by the Glasgow Haskell Compiler (GHC), allows expressive type-level programming. The most popular type-level programming extension is TypeFamilies, which allows users to write functions on types. Yet, using type functions can cripple type inference in certain situations. In particular, lack of injectivity in type functions means that GHC can never infer an instantiation of a type variable appearing only under type functions. In this paper, we describe a small modification to GHC that allows type functions to be annotated as injective. GHC naturally must check validity of the injectivity annotations. The algorithm to do so is surprisingly subtle. We prove soundness for a simplification of our algorithm, and state and prove a completeness property, though the algorithm is not fully complete. As much of our reasoning surrounds functions defined by a simple pattern-matching structure, we believe our results extend beyond just Haskell. We have implemented our solution on a branch of GHC and plan to make it available to regular users with the next stable release of the compiler.},
publisher = {ACM},
url = {https://www.microsoft.com/en-us/research/publication/injective-type-families-haskell/},
pages = {118-128},
edition = {ACM Haskell Symposium 2015},
}